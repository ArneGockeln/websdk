{% extends 'base.twig' %}

{% block content %}
    <div class="row">
        <div class="col-md-12">
            <div class="page-header">
                <h1>{% trans 'Benutzerprofil' %}</h1>
            </div>

            <form method="post" action="{{ siteurl }}/profile/save">
                <input type="hidden" name="inputID" value="{{ user['id'] }}">

                <div class="panel panel-default">
                    <div class="panel-heading">
                        <h3 class="panel-title">{% trans 'Daten' %}</h3>
                    </div>
                    <div class="panel-body">
                        {% if locales|length > 1 %}
                        <div class="form-group">
                            <label for="inputLocale">{% trans 'Sprache' %}</label>
                            <select name="inputLocale" id="inputLocale" class="form-control">
                                {% for lang in locales %}
                                    <option value="{{ lang }}" {% if lang == user['locale'] %}selected{% endif %}>{{ lang }}</option>
                                {% endfor %}
                            </select>
                        </div>
                        {% endif %}
                        <div class="form-group">
                            <label for="inputUsername">{% trans 'Benutzername' %} <small>({% trans %}Der Benutzername ist alphanumerisch, 1-15 Zeichen lang und enthällt keine Sonder- und/oder Leerzeichen!{% endtrans %})</small></label>
                            <input type="text" name="inputUsername" id="inputUsername" class="form-control" value="{{ user['username'] }}">
                        </div>
                        <div class="form-group">
                            <label for="inputFirstname">{% trans 'Vorname' %}</label>
                            <input type="text" name="inputFirstname" id="inputFirstname" class="form-control" value="{{ user['firstname'] }}">
                        </div>
                        <div class="form-group">
                            <label for="inputLastname">{% trans 'Nachname' %}</label>
                            <input type="text" name="inputLastname" id="inputLastname" class="form-control" value="{{ user['lastname'] }}">
                        </div>
                        <div class="form-group">
                            <label for="inputEmail">{% trans 'E-Mail' %}</label>
                            <input type="email" name="inputEmail" id="inputEmail" class="form-control" value="{{ user['email'] }}">
                        </div>
                    </div>
                </div>

                <div class="panel panel-default">
                    <div class="panel-heading">
                        <h3 class="panel-title">{% trans 'Passwort ändern' %}</h3>
                    </div>
                    <div class="panel-body">
                        <p>{% trans %}Das Passwort muss aus mindestens 6 alphanumerischen Zeichen, 1 Großbuchstaben und 1 Kleinbuchstaben bestehen. Die Sonderzeichen !@#$_% sind erlaubt.{% endtrans %}</p>
                        <div class="form-group">
                            <label for="inputPwd1">{% trans 'Neues Passwort' %}</label>
                            <input type="password" class="form-control" name="inputPwd1" id="inputPwd1">
                        </div>
                        <div class="form-group">
                            <label for="inputPwd2">{% trans 'Passwort widerholen' %}</label>
                            <input type="password" class="form-control" name="inputPwd2" id="inputPwd2">
                        </div>
                    </div>
                </div>
                <div class="well well-sm">
                    <button type="submit" class="btn btn-primary btn-with-spinner">{% trans 'Speichern' %}</button>
                    <span class="btn pull-right" style="font-weight:normal; text-transform: none;">{% trans 'Letzte Änderung' %}: {{ user['lastmod']|date("d.m.Y H:i:s") }}</span>
                </div>
            </form>
        </div>
    </div>
{% endblock %}